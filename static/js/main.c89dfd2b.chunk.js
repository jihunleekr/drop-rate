(this["webpackJsonpdrop-rate"]=this["webpackJsonpdrop-rate"]||[]).push([[0],{109:function(e,t,a){e.exports=a(139)},114:function(e,t,a){},115:function(e,t,a){},139:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(9),o=a.n(c),l=(a(114),a(31)),i=a(62),m=a(14),s=(a(115),a(116),a(184)),u=a(187),d=a(179),f=a(191),p=a(100),g=a(186),b=a(185),h=a(99),E=a.n(h),v=a(190),j=a(192),O=a(183),y=a(193),x=a(141),k=a(98),N=a.n(k),S=a(97),C=a.n(S),w=a(188);function R(e,t){return Math.ceil(Object(w.a)(1-t,1-e))}var I=a(20),A=function(e){var t=e.rate,a=e.trials,c=Object(n.useState)([]),o=Object(m.a)(c,2),l=o[0],i=o[1],s=Object(n.useState)([]),u=Object(m.a)(s,2),d=u[0],f=u[1],p=Object(n.useState)([]),g=Object(m.a)(p,2),b=g[0],h=g[1];return Object(n.useEffect)((function(){if(t){for(var e=[],n=1-t,r=R(t,.99),c=R(t,.9),o=1,l=0;l<r;l++){var m={x:l,y:100*(1-(o*=n))};e.push(m),l===c&&f([m]),l===a&&h([m])}i(e)}}),[t,a]),r.a.createElement("div",null,r.a.createElement(I.a,{height:300,yDomain:[0,100]},r.a.createElement(I.e,null),r.a.createElement(I.b,null),r.a.createElement(I.f,{tickFormat:function(e){return"".concat(e,"\ud68c")},title:"\uc2dc\ub3c4\ud69f\uc218"}),r.a.createElement(I.g,{tickFormat:function(e){return"".concat(e,"%")},title:"\ub204\uc801\ud655\ub960"}),r.a.createElement(I.c,{data:l,opacity:.5}),r.a.createElement(I.d,{data:d}),r.a.createElement(I.d,{data:b})))},W=Object(d.a)((function(e){return Object(f.a)({root:{margin:"0 auto",maxWidth:600},paper:{marginBottom:"1rem",padding:"1rem"},summary:{display:"flex"},input:{width:"5rem",background:"rgba(0,0,0,0.09)",borderTopLeftRadius:"4px",borderBottomLeftRadius:"4px",borderRight:"0",paddingLeft:"1rem",paddingRight:"1rem"},heading:{flex:1,fontSize:e.typography.pxToRem(15),flexBasis:"33.33%",flexShrink:0},secondaryHeading:{flex:1,fontSize:e.typography.pxToRem(15),color:e.palette.text.hint,"& b":{color:e.palette.secondary.dark,fontWeight:"normal"}},chart:{margin:"1rem"},actions:{display:"flex",margin:"1rem",justifyContent:"space-between"},action:{"&:last-child":{textAlign:"right"}},details:{}})})),B=function(e){var t,a,c=e.item,o=e.onUpdate,i=e.onDelete,u=W(),d=Object(n.useState)(!1),f=Object(m.a)(d,2),p=f[0],g=f[1];return r.a.createElement(v.a,{expanded:p,onChange:function(e,t){g(t)}},r.a.createElement(j.a,{expandIcon:r.a.createElement(C.a,null),className:u.summary},r.a.createElement(x.a,{className:u.heading},c.name),r.a.createElement("div",{className:u.secondaryHeading},c.trials+1,"\ud68c\ucc28 \ud655\ub960: ",r.a.createElement("b",null,(t=c.dropRate,a=c.trials+1,(1-Math.pow(1-t,a)).toLocaleString(void 0,{style:"percent",minimumFractionDigits:1}))))),r.a.createElement("div",{className:u.chart},r.a.createElement(A,{rate:c.dropRate,trials:c.trials})),r.a.createElement("div",{className:u.actions},r.a.createElement("div",{className:u.action},r.a.createElement(y.a,{className:u.input,value:c.trialsPerClick,inputProps:{align:"right",style:{textAlign:"right"}},onChange:function(e){o(Object(l.a)(Object(l.a)({},c),{},{trialsPerClick:e.target.value}))},endAdornment:r.a.createElement(O.a,{position:"end"},"\ud68c")}),r.a.createElement(s.a,{variant:"contained",color:"primary",onClick:function(e){o(Object(l.a)(Object(l.a)({},c),{},{trials:c.trials+parseInt(c.trialsPerClick),updatedAt:new Date}))}},"\ub354\ud558\uae30")),r.a.createElement("div",{className:u.action},r.a.createElement(s.a,{variant:"text",color:"default",onClick:function(e){i()}},r.a.createElement(N.a,null)))))},D=a(182),P=a(189),F=Object(d.a)((function(e){return Object(f.a)({root:{margin:"0 auto",maxWidth:e.breakpoints.values.sm},paper:{marginBottom:"1rem",padding:"1rem"},form:{display:"flex",justifyContent:"space-between"},name:{flex:1,maxWidth:"15rem"},dropRate:{flex:1,maxWidth:"7rem",marginLeft:"1rem"}})})),L=function(e){var t=e.onAddItem,a=F(),c=Object(n.useState)(""),o=Object(m.a)(c,2),l=o[0],i=o[1],u=Object(n.useState)(""),d=Object(m.a)(u,2),f=d[0],p=d[1];return r.a.createElement(D.a,{className:a.paper},r.a.createElement("form",{noValidate:!0,autoComplete:"off",className:a.form},r.a.createElement(P.a,{className:a.name,label:"\uc544\uc774\ud15c\uba85",onChange:function(e){var t=e.target.value;i(t)},value:l,variant:"standard"}),r.a.createElement(P.a,{className:a.dropRate,label:"\ub4dc\ub78d\uc728",onChange:function(e){var t=e.target.value;p(t)},value:f,variant:"filled",InputProps:{endAdornment:r.a.createElement(O.a,{position:"end"},"%")}})),r.a.createElement(A,{rate:parseFloat(f)/100,trials:0}),r.a.createElement(s.a,{variant:"contained",color:"primary",onClick:function(){t({name:l,dropRate:parseFloat(f)/100,trials:0,trialsPerClick:"1",createdAt:new Date})}},"\uc218\uc9d1 \ubaa9\ub85d\uc5d0 \ucd94\uac00"))},J=Object(d.a)((function(e){return Object(f.a)({root:{margin:"0 auto",maxWidth:600,padding:"1rem"},header:{display:"flex",justifyContent:"space-between",fontWeight:"bold",alignItems:"center"},logo:{},actions:{},list:{marginBottom:"2rem"}})}));var M=function(){var e=J(),t=Object(n.useState)([]),a=Object(m.a)(t,2),c=a[0],o=a[1],d=Object(b.a)("(prefers-color-scheme: dark)"),f=Object(n.useState)(d?"dark":"light"),h=Object(m.a)(f,2),v=h[0],j=h[1],O=r.a.useMemo((function(){return Object(p.a)({palette:{type:v}})}),[v]),y=function(e){return function(t){var a=Object(i.a)(c);a[e]=Object(l.a)({},t),o(a)}},x=function(e){return function(){var t=Object(i.a)(c);t.splice(e,1),o(t)}};return Object(n.useEffect)((function(){var e=localStorage.getItem("items");null!==e&&o(JSON.parse(e));var t=localStorage.getItem("theme-mode");"dark"!==t&&"light"!==t||j(t)}),[]),Object(n.useEffect)((function(){var e=JSON.stringify(c);localStorage.setItem("items",e)}),[c]),Object(n.useEffect)((function(){localStorage.setItem("theme-mode",v)}),[v]),r.a.createElement(g.a,{theme:O},r.a.createElement(u.a,null),r.a.createElement("div",{className:e.root},r.a.createElement("div",{className:e.header},r.a.createElement("h1",{className:e.logo},"DROPRATE"),r.a.createElement("div",{className:e.actions},r.a.createElement(s.a,{onClick:function(){j((function(e){return"light"===e?"dark":"light"}))}},r.a.createElement(E.a,null)))),r.a.createElement(L,{onAddItem:function(e){o((function(t){return[e].concat(Object(i.a)(t))}))}}),c.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"\uc218\uc9d1 \ubaa9\ub85d"),r.a.createElement("div",{className:e.list},c.map((function(e,t){return r.a.createElement(B,{item:e,key:t,onUpdate:y(t),onDelete:x(t)})}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(M,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[109,1,2]]]);
//# sourceMappingURL=main.c89dfd2b.chunk.js.map